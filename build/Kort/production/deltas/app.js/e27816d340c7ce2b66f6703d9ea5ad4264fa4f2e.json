["/*6e3a2db9e537e600024da1e281bcf9438da58b5b",42,254723,"ActionSheet",466056,36,"actionsheet",534265,34,249944,32,"-action\",left:0,right:0,bottom:0,centered:false,height:\"auto\",defaultType:\"button\"}",254746,47781,"carousel.Item\",{extend:\"Ext.Decorator\",config:{baseCls:\"x-carousel-item\",component:null,translatable:true}});Ext.define(\"Ext.carousel.Indicator",270620,33,"carouselindicator\",alternateClassName:\"Ext.Carousel.Indicato",405503,38,"carousel-indicator\",direction:\"horizontal",498624,48,"indicators=[];this.element.on({tap:\"onTap\",scope:this})}",405745,79,"c,a,b);if(a===\"horizontal\"){this.setBottom(0);this.setRight(null)}else{this.setRight(0);this.setBottom(null)}},addIndicator:function(){this.indicators.push(this.element.createChild({tag:\"span\"}))},removeIndicator:function(){var a=this.indicators;if(a.length>0){a.pop().destroy()}},setActiveIndex:function(b){var e=this.indicators,d=this.activeIndex,a=e[d],f=e[b],c=this.getBaseCls();if(a){a.removeCls(c,null,\"active\")}if(f){f.addCls(c,null,\"active\")}this.activeIndex=b;return this},onTap:function(f){var g=f.touch,a=this.element.getPageBox(),d=a.left+(a.width/2),b=a.top+(a.height/2),c=this.getDirection();if((c===\"horizontal\"&&g.pageX>=d)||(c===\"vertical\"&&g.pageY>=b)){this.fireEvent(\"next\",this)}else{this.fireEvent(\"previou",441703,34,"d=this.indicators,b,c,a;for(b=0,c=d.length;b<c;b++){a=d[b];a.destroy()}d.length=0;",424958,37,"util.TranslatableGroup",145376,33,"Abstract\",config:{items:[],activeIndex:0,itemLength:{x:0,y:0}",408830,72,"n,m){var l=this.getItems(),p=this.getActiveIndex(),j=this.getItemLength(),d=j.x,c=j.y,h=typeof n==\"number\",g=typeof m==\"number\",e,f,k,o,b,a;for(f=0,k=l.length;f<k;f++){o=l[f];if(o){e=(f-p);if(h){b=n+e*d}if(g){a=m+e*c}o.translate(b,a)}}}});Ext.define(\"Ext.carousel.Carousel",327943,50,"Carousel\",xtype:\"carousel\",requires:[\"Ext.fx.easing.EaseOut\",\"Ext.carousel.Item\",\"Ext.carousel.Indicator\",\"Ext.util.TranslatableGroup\"],config:{baseCls:\"x-carousel\",direction:\"horizontal\",directionLock:false,animation:{duration:250,easing:{type:\"ease-out\"}},indicator:true,ui:\"dark\",itemConfig:{},bufferSize:1,itemLength:null},itemLength:0,offset:0,flickStartOffset:0,flickStartTime:0,dragDirection:0,count:0,painted:false,activeIndex:-1",289414,34,"element.on(",148382,59,"scope:this});this.element.on(\"resize\",\"onSizeChange\",this);this.carouselItems=[];this.orderedCarouselItems=[];this.inactiveCarouselItems=[];this.hiddenTranslation=0},updateBufferSize:function(n){var l=Ext.carousel.Item,h=n*2+1,m=this.isRendered(),c=this.innerElement,g=this.carouselItems,f=g.length,e=this.getItemConfig(),d=this.getItemLength(),j=this.getDirection(),b=j===\"horizontal\"?\"setWidth\":\"setHeight\",a,k;for(a=f;a<h;a++){k=Ext.factory(e,l);if(d){k[b].call(k,d)}k.setLayoutSizeFlags(this.LAYOUT_BOTH);g.push(k);c.append(k.renderElement);if(m&&k.setRendered(true)){k.fireEvent(\"renderedchange\",this,k,true)}}this.getTranslatable().setActiveIndex(n)},setRendered:function(g){var a=this.rendered;if(g!==a){this.rendered=g;var b=this.items.items,d=this.carouselItems,c,f,e;for(c=0,f=b.length;c<f;c++){e=b[c];if(!e.isInnerItem()){e.setRendered(g)}}for(c=0,f=d.length;c<f;c++){d[c].setRendered(g)}return true}return false},onSizeChange:function(){this.refreshSizing();this.refreshCarouselItems();this.refreshActiveItem()},onItemAdd:function(c,b",282672,33,"d=this.getInnerItems().indexOf(c),a=this.getIndicator();if(a&&c.isInnerItem()){a.addIndicator()}if(d<=this.getActiveIndex()){this.refreshActiveIndex()}if(this.isIndexDirty(d)&&!this.isItemsInitializing){this.refreshActiveItem()}},doItemLayoutAdd:function(a){if(a.isInnerItem()){return",495774,35,"Remove:function(f,b",282672,33,"h=this.getInnerItems().indexOf(f),a=this.getIndicator(),d=this.carouselItems,c,e,g;if(f.isInnerItem()&&a){a.removeIndicator()}if(h<=this.getActiveIndex()){this.refreshActiveIndex()}if(this.isIndexDirty(h)){for(c=0,e=d.length;c<e;c++){g=d[c];if(g.getComponent()===f){g.setComponent(null)}}this.refreshActiveItem()}},doItemLayoutRemove:function(a){if(a.isInnerItem()){return",495774,32,"nnerItemMove:function(b,c,a){if((this.isIndexDirty(c)||this.isIndexDirty(a))){this.refreshActiveItem()}},doItemLayoutMove:function(a){if(a.isInnerItem()){return}this.callParent(arguments)},isIndexDirty:function(b){var a=this.getActiveIndex(),c=this.getBufferSize();return(b>=a-c&&b<=a+c)},getTranslatable",147688,39,147351,49,"Group;a.setItems(this.orderedCarouselItems);a.on(\"animationend\",\"onAnimationEnd\",this)}return a},onDragStart:function(f){var d=this.getDirection(),b=f.absDeltaX,a=f.absDeltaY,c=this.getDirectionLock();this.isDragging=true;if(c){if((d===\"horizontal\"&&b>a)||(d===\"vertical\"&&a>b)){f",221864,54,223809,38,";this.dragStartOffset=this.offset;this.dragDirection=0},onDrag:function(j",150721,34,"k=this.dragStartOffset,l=this.getDirection(),m=l===\"horizontal\"?j.deltaX:j.deltaY,a=this.offset,i=this.flickStartTime,c=this.dragDirection,b=Ext.Date.now(),h=this.getActiveIndex(),f=this.getMaxItemIndex(),d=c,g;if((h===0&&m>0)||(h===f&&m<0)){m*=0.5}g=k+m;if(g>a){c=1}else{if(g<a){c=-1}}if(c!==d||(b-i)>300){this.flickStartOffset=a;this.flickStartTime=b}this.dragDirection=c;this.setOffset(g)},onDragEnd:function(j){",222749,33,"onDrag(j);this.isDragging=false;var a=Ext.Date.now(),i=this.itemLength,g=i/2,f=this.offset,m=this.getActiveIndex(),c=this.getMaxItemIndex(),h=0,l=f-this.flickStartOffset,b=a-this.flickStartTime,k=this.getIndicator(),d;if(b>0&&Math.abs(l)>=10){d=l/b;if(Math.abs(d)>=1){if(d<0&&m<c){h=-1}else{if(d>0&&m>0){h=1}}}}if(h===0){if(m<c&&f<-g){h=-1}else{if(m>0&&f>g){h=1}}}if(k){k.setActiveIndex(m-h)}this.animationDirection=h;this.setOffsetAnimated(h*i)},applyAnimation:function(a){a.easing=Ext.factory(a.easing,Ext.fx.easing.EaseOut);",218228,49,"getIndicator();this.currentAxis=(b===\"horizontal\")?\"x\":\"y\";if(a){a.setDirection(b)}},setOffset:function(a){this.offset=a",217982,33,"Axis(this.currentAxis,a+this.itemOffset);return this},setOffsetAnimated:function(b){var a=this.getIndicator();if(a){a.setActiveIndex(this.getActiveIndex()-this.animationDirection)}this.offset=b",217982,33,"Axis(this.currentAxis,b+this.itemOffset,this.getAnimation());return this},onAnimationEnd:function(b){var c=this.getActiveIndex(),a=this.animationDirection,e=this.currentAxis,f=b[e],d=this.itemLength,g;if(a===-1){g=d+f}else{if(a===1){g=f-d}else{g=f}}g-=this.itemOffset;this.offset=g;this.setActiveItem(c-a",151584,34,"Sizing();this.refreshActiveItem()},refreshSizing:function(){var a=this.element,b=this.getItemLength(),e={x:0,y:0},c,d;if",184463,35,"){d=a.getWidth()}else{d=a.getHeight()}this.hiddenTranslation=-d;if(b===null){b=d;c=0}else{c=(d-b)/2}this.itemLength=b;this.itemOffset=c;e[this.currentAxis]=b;this.getTranslatable().setItemLength(e)},refreshOffset:function(){this.setOffset(this.offset)},refreshActiveItem:function(){this.doSetActiveItem(this.getActiveItem())},getActiveIndex:function(){return this.activeIndex},refreshActiveIndex:function(){this.activeIndex=this.getInnerItemIndex(this.getActiveItem())},refreshCarouselItems:function(){var a=this.carousel",177384,47,"c.getTranslatable().refresh()}this.refreshInactiveCarouselItems()},refreshInactiveCarouselItems:function(){var a=this.inactiveCarouselItems,f=this.hiddenTranslation,c=this.currentAxis,b,e,d;for(b=0,e=a.length;b<e;b++){d=a[b];d.translateAxis(c,f)}},getMaxItemIndex",243463,34,".length-1},getInnerItemIndex",241168,46,"},getInnerItem",240894,42,"applyActiveItem:function(){var b=this.callParent(arguments),a;if(b){a=this.getInnerItemIndex(b);if(a!==-1){this.activeIndex=a;return b}}},doSetActiveItem:function(g){var q=this.getActiveIndex(),e=this.getMaxItemIndex(),m=this.getIndicator(),c=this.getBufferSize(),k=this.carouselItems.slice(),n=this.orderedCarouselItems,p={},o={},a,l,b,f,h,j,d;if(k.length===0){return}this.callParent(arguments);n.length=0;if(g){b=g.getId();o[b]=g;p[b]=c;if(q>0){for(f=1;f<=c;f++){h=q-f;if(h>=0){a=this.getInnerItemAt(h);b=a.getId();o[b]=a;p[b]=c-f}else{break}}}if(q<e){for(f=1;f<=c;f++){h=q+f;if(h<=e){a=this.getInnerItemAt(h);b=a.getId();o[b]=a;p[b]=c+f}else{break}}}for(f=0,j=k.length;f<j;f++){d=k[f];l=d.getComponent();if(l){b=l.getId();if(p.hasOwnProperty(b)){k.splice(f,1);f--;j--;delete o[b];n[p[b]]=d}}}for(b in o){if(o.hasOwnProperty(b)){a=o[b];d=k.pop();d.setComponent(a);n[p[b]]=d}}}this.inactiveCarouselItems.length=0;this.inactiveCarouselItems=k;this.refreshOffset();this.refreshInactiveCarouselItems();if(m){m.setActiveIndex(q)}},next:function(){this.setOffset(0);if(this.activeIndex===this.getMaxItemIndex()){return this}this.animationDirection=-1;this.setOffsetAnimated(-this.itemLength);return this},previous:function(){this.setOffset(0);if(this.activeIndex===0){return this}this.animationDirection=1;this.setOffsetAnimated(this.itemLength);return this},applyIndicator",214126,40,"carousel.Indicator",267987,33,"if(a){this.insertFirst(a);a.setUi(this.getUi());a.on({next:\"next\",previous:\"previous\",scope:this}",441710,34,"carouselItems.slice();this.carouselItems.length=0;Ext.destroy(a,this.getIndicator(),this.translatable);this.callParent();delete this.carouselItems",224960,33,302527,102318,"identifier.Uuid\",{extend:\"Ext.data.identifier.Simple\",alias:\"data.identifier.uuid\",isUnique:true,config:{id:undefined,salt:null,timestamp:null,version:4},applyId:function(a){if(a===undefined){return Ext.data.identifier.Uuid.Global",203275,32,211424,39,"parts=[];a.init()},reconfigure:function(a){this.setConfig(a);this.init()},generate:function(){var c=this,e=c.parts,a=c.getVersion(),b=c.getSalt(),d=c.getTimestamp();e[0]=c.toHex(d.lo,8);e[1]=c.toHex(d.hi&65535,4);e[2]=c.toHex(((d.hi>>>16)&4095)|(a<<12),4);e[3]=c.toHex(128|((c.clockSeq>>>8)&63),2)+c.toHex(c.clockSeq&255,2);e[4]=c.toHex(b.hi,4)+c.toHex(b.lo,8);if(a==4){c.init()}else{++d.lo;if(d.lo>=c.twoPow32){d.lo=0;++d.hi}}return e.join(\"-\").toLowerCase()},init:function(){var b=this,a=b.getSalt(),c=b.getTimestamp();if(b.getVersion()==4){b.clockSeq=b.rand(0,b.twoPow14-1);if(!a){a={};b.setSalt(a)}if(!c){c={};b.setTimestamp(c)}a.lo=b.rand(0,b.twoPow32-1);a.hi=b.rand(0,b.twoPow16-1);c.lo=b.rand(0,b.twoPow32-1);c.hi=b.rand(0,b.twoPow28-1)}else{b.setSalt(b.split(b.getSalt()));b.setTimestamp(b.split(b.getTimestamp()));b.getSalt().hi|=256}},twoPow14:Math.pow(2,14),twoPow16:Math.pow(2,16),twoPow28:Math.pow(2,28),twoPow32:Math.pow(2,32),toHex:function(c,b){var a=c.toString(16);if(a.length>b){a=a.substring(a.length-b)}else{if(a.length<b){a=Ext.String.leftPad(a,b,\"0\")}}return a},rand:function(c,b){var a=Math.random()*(b-c+1);return Math.floor(a)+c},split:function(b){if(typeof(b)==\"number\"){var a=Math.floor(b/this.twoPow32);return{lo:Math.floor(b-a*this.twoPow32),hi:a}}return b}},function(){this.Global=new this({id:\"uuid\"})});Ext.define(\"Ext.data.proxy.WebStorage",351077,36,"ternateClassName:\"Ext.data.WebStorageProxy\",requires:\"Ext.Date\",config:{id:undefined,reader:null,writer:null,enablePagingParams",296524,37,"callParent(arguments);this.cache={}},updateModel:function(a){if(!this.getId()){this.setId(a.modelName)}},create:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),b,g,f;e.setStarted();for(f=0;f<c;f++){g=d[f];b=g.getId();this.setRecord(g);a.push(b)}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},read:function(h,o,p){var e=[],a=this.getIds(),l=this.getModel(),q=l.getIdProperty(),g=h.getParams()||{},n=h.getSorters(),d=h.getFilters(),b=h.getStart(),f=h.getLimit(),c=a.length,j,k,m;if(g[q]!==undefined){k=this.getRecord(g[q]);if(k){e.push(k);h.setSuccessful()}}else{for(j=0;j<c;j++){e.push(this.getRecord(a[j]))}m",302910,33,");if(d&&d.length){m.setFilters(d)}if(n&&n.length){m.setSorters(n)}m.addAll(e);if(this.getEnablePagingParams()&&b!==undefined&&f!==undefined){e=m.items.slice(b,b+f)}else{e=m.items.slice()}h.setSuccessful()}h.setCompleted();h.setResultSet(Ext.create(\"Ext.data.ResultSet\",{records:e,total:e.length,loaded:true}));h.setRecords(e);if(typeof o==\"function\"){o.call(p||this,h)}},update:function(e,h,j){var d=e.getRecords(),c=d.length,a=this.getIds(),g,b,f;e.setStarted();for(f=0;f<c;f++){g=d[f];this.setRecord(g);b=g.getId();if(b!==undefined&&Ext.Array.indexOf(a,b)==-1){a.push(b)}}this.setIds(a);e.setCompleted();e.setSuccessful();if(typeof h==\"function\"){h.call(j||this,e)}},destroy:function(b,h,e){var a=b.getRecords(),f=a.length,d=this.getIds(),g=[].concat(d),c;b.setStarted();for(c=0;c<f;c++){Ext.Array.remove(g,a[c].getId());this.removeRecord(a[c],false)}this.setIds(g);",351313,35,"if(typeof h==\"function\"){h.call(e||this,b)}},getRecord:function(d){if(this.cache[d]===undefined){var m=this.getRecordKey(d),n=this.getStorageObject().getItem(m),g={},f=this.getModel(),k=f.getFields().items,e=k.length,h,l,c,j,a,b;if(!n){return undefined}a=Ext.decode(n);for(h=0;h<e;h++){l=k[h];c=l.getName();if(typeof l.getDecode()==\"function\"){g[c]=l.getDecode()(a[c])}else{if(l.getType().type==\"date\"){b=l.getDateFormat();if(b){g[c]=Ext.Date.parse(a[c],b)}else{g[c]=new Date(a[c])}}else{g[c]=a[c]}}}j=new f(g,d);this.cache[d]=j}return this.cache[d]},setRecord:function(l,d){if(d){l.setId(d)}else{d=l.getId()}var o=this,a=l.getData(),k={},g=o.getModel(),m=g.getFields().items,f=m.length,j=0,p,c,h,q,b;for(;j<f;j++){p=m[j];c=p.getName();if(p.getPersist()===false){continue}if(typeof p.getEncode()==\"function\"){k[c]=p.getEncode()(a[c],l)}else{if(p.getType().type==\"date\"&&Ext.isDate(a[c])){b=p.getDateFormat();if(b){k[c]=Ext.Date.format(a[c],b)}else{k[c]=a[c].getTime()}}else{k[c]=a[c]}}}h=o.getStorageObject();q=o.getRecordKey(d);o.cache[d]=l;h.removeItem(q);try{h.setItem(q,Ext.encode(k))}catch(n",351664,35,")}l.commit()},removeRecord:function(d,c){var b=this,a;if(d.isModel){d=d.getId()}if(c!==false){a=b.getIds();Ext.Array.remove(a,d);b.setIds(a)}b.getStorageObject().removeItem(b.getRecordKey(d))},getRecordKey:function(a){if(a.isModel){a=a.getId()}return Ext.String.format(\"{0}-{1}\",this.getId(),a)},getIds:function(){var b=(this.getStorageObject().getItem(this.getId())||\"\").split(\",\"),c=b.length,a;if(c==1&&b[0]===\"\"){b=[]}return b},setIds:function(a){var c=this.getStorageObject(),d=a.join(\",\"),f=this.getId();c.removeItem(f);if(!Ext.isEmpty(d)){try{c.setItem(f,d)}catch(b",351664,34,"b)}}}",251680,39,"arguments);var a=this.getStorageObject();try{a.setItem(this.getId(),a.getItem(this.getId())||\"\")}catch(b",351664,34,"b)}},clear:function(){var d=this.getStorageObject(),c=this.getIds(),a=c.length,b;for(b=0;b<a;b++){this.removeRecord(c[b],false)}d.removeItem(this.getId())},getStorageObject",170507,32,"data.proxy.LocalStorage\",{extend:\"Ext.data.proxy.WebStorage\",alias:\"proxy.localstorage\",alternateClassName:\"Ext.data.LocalStorageProxy\",getStorageObject:function(){return window.localStorage",404820,91281,"plugin.PullRefresh",270761,33,"plugin.pullrefresh\",requires:[\"Ext.DateExtras\"],config:{list:null,pullRefreshText:\"Pull down to refresh...\",releaseRefreshText:\"Release to refresh...\",lastUpdatedText:\"Last Updated:\",loadingText:\"Loading...\",snappingAnimationDuration:150,refreshFn:null,pullTpl:['<div class=\"x-list-pullrefresh\">','<div class=\"x-list-pullrefresh-arrow\"></div>','<div class=\"x-loading-spinner\">','<span class=\"x-loading-top\"></span>','<span class=\"x-loading-right\"></span>','<span class=\"x-loading-bottom\"></span>','<span class=\"x-loading-left\"></span>',\"</div>\",'<div class=\"x-list-pullrefresh-wrap\">','<h3 class=\"x-list-pullrefresh-message\">{message}</h3>','<div class=\"x-list-pullrefresh-updated\">{lastUpdatedText}&nbsp;{lastUpdated:date(\"m/d/Y h:iA\")}</div>',\"</div>\",\"</div>\"].join(\"\"),translatable:true},isRefreshing:false,currentViewState:\"\"",251680,46,"on({painted:\"onPainted\",scope:this})},init:function(b){var a=this;a.setList(b);a.initScrollable()},initScrollable:function(){var d=this,g=d.getList(),b=g.getStore(),f=d.getPullTpl(),c=d.element,e=g.getScrollable(),a;if(!e){return}a=e.getScroller();d.lastUpdated=new Date();g.container.insert(0,d);if(b){if(b.isAutoLoading()){g.setLoadingText(null)}else{b.on({load:{single:true,fn:function(){g.setLoadingText(null)}}})}}f.overwrite(c,{message:d.getPullRefreshText(),lastUpdatedText:d.getLastUpdatedText(),lastUpdated:d.lastUpdated},true);d.loadingElement=c.getFirstChild();d.messageEl=c.down(\".x-list-pullrefresh-message\");d.updatedEl=c.down(\".x-list-pullrefresh-updated\");d.maxScroller=a.getMaxPosition();a.on({maxpositionchange:d.setMaxScroller,scroll:d.onScrollChange,scope:d})},onScrollableChange:function(){this.initScrollable()},updateList:function(a,c){var b=this;if(a&&a!=c){a.on({order:\"after\",scrollablechange:b.onScrollableChange,scope:b})}else{if(c){c.un({order:\"after\",scrollablechange:b.onScrollableChange,scope:b})}}},fetchLatest:function(){var b=this.getList().getStore(),c=b.getProxy(),a;a",374284,33,"{page:1,start:0,model:b.getModel(),limit:b.getPageSize(),action:\"read\",filters:b.getRemoteFilter()?b.getFilters():[]});c.read(a,this.onLatestFetched,this)},onLatestFetched:function(d){var j=this.getList().getStore(),b=j.getData(),c=d.getRecords(),a=c.length,g=[],h,f,e;for(e=0;e<a;e++){h=c[e];f=b.getByKey(h.getId());if(f){f.set(h.getData())}else{g.push(h)}f=undefined}j.insert(0,g)},onPainted:function(){this.pullHeight=this.loadingElement.getHeight()},setMaxScroller:function(b,a){this.maxScroller=a},onScrollChange:function(b,a,c){if(c<0){this.onBounceTop(c)}if(c>this.maxScroller.y){this.onBounceBottom(c)}},applyPull",333921,80,"BounceTop:function(e){var b=this,d=b.pullHeight,c=b.getList(),a=c",413894,34,"!b.isReleased){if(!d){b.onPainted();d=b.pullHeight}if(!b.isRefreshing&&-e>=d+10){b.isRefreshing=true;b.setViewState(\"release\");a.getContainer().onBefore({dragend:\"onScrollerDragEnd\",single:true,scope:b})}else{if(b.isRefreshing&&-e<d+10){b.isRefreshing=false;b.setViewState(\"pull\")}}}b.getTranslatable().translate(0,-e)},onScrollerDragEnd:function(){var b=this;if(b.isRefreshing){var c=b.getList(),a=c.getScrollable().getScroller();a.minPosition.y=-b.pullHeight;a.on({scrollend:\"loadStore\",single:true,scope:b});b.isReleased=true}},loadStore:function(){var b=this,c=b.getList(),a=c.getScrollable().getScroller();b.setViewState(\"loading\");b.isReleased=false;Ext.defer(function(){a.on({scrollend:function(){if(b.getRefreshFn()){b.getRefreshFn().call(b,b)}else{b.fetchLatest()}b.resetRefreshState()},delay:100,single:true,scope:b});a.minPosition.y=0;a.scrollTo(null,0,true)},500,b)},onBounceBottom:Ext.emptyFn,setViewState:function(d){var b=this,c=Ext.baseCSSPrefix,e=b.messageEl,a=b.loadingElement;if(d===b.currentViewState){return b}b.currentViewState=d;if(e&&a){switch(d){case\"pull\":e.setHtml(b.getPullRefreshText());a.removeCls([c+\"list-pullrefresh-release\",c+\"list-pullrefresh-loading\"]);break;case\"release\":e.setHtml(b.getReleaseRefreshText());a.addCls(c+\"list-pullrefresh-release\");break;case\"loading\":e.setHtml(b.getLoadingText());a.addCls(c+\"list-pullrefresh-loading\");break}}return b},resetRefreshState:function(){var a=this;a.isRefreshing=false;a.lastUpdated=new Date();a.setViewState(\"pull\");a.updatedEl.setHtml(this.getLastUpdatedText()+\"&nbsp;\"+Ext.util.Format.date(a.lastUpdated,\"m/d/Y h:iA\")",496080,24708,"version:\"0.5.0\",",520788,104,"tileLayerAttribution:'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a>'",520891,56,"oAuth",535281,301,520946,91,"osm",521040,47,",kortTitle:'<span class=\"kort-title\"><span class=\"kort-k\">K</span><span class=\"kort-ort\">ORT</span></span>',about:{authors:[\"Stefan Oderbolz\",\"J\ufffff\ufffffrg Hunziker\"],project:\"HSR Bachelorarbeit HS2012/13\",partners:['bitforge AG (<a href=\"http://bitforge.ch\" target=\"_blank\">http://bitforge.ch</a>)']},formPlaceholders:{username:\"Benutzername\"",521086,365,"about",533504,50,"about",536896,80,"about\"),url:\"about\",id:\"aboutContainer\",iconCls:\"info\",layout:\"vbox\",scrollable:true",533722,85,"about.title\")},{html:'<div class=\"about",526591,82,"l class=\"kort-definitionlist info\"><dt>'+Ext.i18n.Bundle.message(\"about.version.title\")+\"</dt><dd>\"+Kort.util.Config.getVersion()+\"</dd><dt>\"+Ext.i18n.Bundle.message(\"about.authors.title\")+\"</dt><dd>\"+Kort.util.Config.getAbout().authors[0]+\"</dd><dd>\"+Kort.util.Config.getAbout().authors[1]+\"</dd><dt>\"+Ext.i18n.Bundle.message(\"about.project.title\")+\"</dt><dd>\"+Kort.util.Config.getAbout().project+\"</dd><dt>\"+Ext.i18n.Bundle.message(\"about.partners.title\")+\"</dt><dd>\"+Kort.util.Config.getAbout().partners[0]+\"</dd><dt>\"+Ext.i18n.Bundle.message(\"about.legal.title\")+\"</dt><dd>\"+Ext.i18n.Bundle.message(\"about.legal.message\")+\"</dd></dl></div>\"}]",541119,32,"About",533901,47,"about.Container\"],refs:{aboutContainer:\"#aboutContainer\"}",528367,33,"Bug",539327,37,521498,136,"Leaflet",528404,33,"xtype:\"kortleafletmap\",config:{useCurrentLocation:fals",522151,250,",attribution",522189,34,"tileLayerAttribution}",528367,33,521641,93,"Kort.view",521740,232,"cls:\"bugmapCenterButton\",iconCls:\"locate\",iconMask:true,align:\"left\"},{xtype:\"button\",cls:\"bugmapRefresh",521987,118,"kort",522105,47,"}]",528367,37,528094,61,"requires:[\"Kort.view.LeafletMap\"]",528154,182,528981,35,"map.title\"),xtype:\"kortleafletmap\",cls:\"fixM",528347,41,522425,135,",\"bugmap.fix.TabPanel",522559,100,"bugmapCenterButton:\"#bugmapNavigationView .button[cls=bugmapCenterButton]\",bugmapRefreshButton:\"#bugmapNavigationView .button[cls=bugmapRefreshButton]",522696,45,"bugmapCenterButton:{tap:\"onBugmapCenterButtonTap\"},bugmapRefreshButton:{tap:\"onBugmapRefresh",522778,34,"detailpush:\"onBugmapNavigationViewDetailPush\",back:\"onBugmapNavigationViewBack\"}",522907,109,"init",475168,36,"arguments);a",525823,37,"a",525864,36,"a",525904,53,"messagebox-content\">','<div class=\"textpic",526000,39,"koin",529295,32,"koins/koin_no_value",529346,47,"\",",522058,32,"messagebox.koins.earn\"),' <span class=\"important\">{fix_koin_count}</span> ',",522058,32,"messagebox.koins.name\"),\"</p>\",\"</div>\",\"</div>\",'<div class=\"textpic",526000,191,";a.getApplication().on({fixsend:{fn:a.refreshBugMarkers,scope:a}})},onBugmapNavigationViewDetailPush:function(c,a,b){this.getBugmapCenterButton().hide();this.getBugmapRefreshButton().hide()},onBugmapNavigationViewBack:function(c,a,b){this.getBugmapCenterButton().show();this.getBugmapRefreshButton().show()",523195,312,"BugmapCenterButtonTap:function(){this.centerMapToCurrentPosition()},onBugmapRefresh",523518,47,"centerMapToCurrentPosition:function(){this.getMapCmp().setMapCenter(this.getCurrentLocationLatLng(this.getMapCmp()));this.getMap().setZoom(",522190,37,523562,43,"e=c.getMapCmp(),d=c.getBugsStore(),a,b;b=c.getCurrentLocationLatLng(e)",523704,40,"b.lat+\",\"+b.lng;d",523753,39,"c.centerMapToCurrentPosition();d.load(function(g,f,h){c.redrawBugMarkers(g)})},redrawBug",523853,285,524778,70,"addMarker:function(b){var d=this,c,a;c",524571,103,"c",524675,47,"d.onMarkerClick,d);d",524742,36,524138,393,524848,53,"4",524902,365,"fix",525277,50,"Fix",525336,51,"Fix:function(b){var c=this.getBugmapNavigationView(),a",525064,32,525444,47,"c.push(a);c.fireEvent(\"detailpush\",c",525528,41,"CenterButton().disable();this.getBugmapRefreshButton().disable();",525754,41,525596,205,";this.getBugmapCenterButton().enable();this.getBugmapRefreshButton().enable()},getCurrentLocationLatLng:function(b){if(b.getUseCurrentLocation()){var a=b.getGeo();return L.latLng(a.getLatitude(),a.getLongitude())}else{return b.getMap().getCenter()}",526191,169,526377,370,".1\")+Kort.util.Config.getKortTitle()+",527806,36,"introduction.2",526747,165,"Kort.util.Config.getFormPlaceholders().username",526926,584,"a=this,c=a",527558,35,"b;if(c!==\"\"){if(c.search(/^[a-zA-Z0-9]+$/)===-1){b",532951,48,"b",533000,34,"rststeps.alert.username.specialchars",533056,36,"rststeps.alert.username.specialchars.message\"),Ext.emptyFn)}else{a.getFirststepsFormSubmitButton().disable();Kort.user.set(\"username\",c);Kort.user.save({success:function(){a.userSuccessfullSav",532718,32,"a.getFirststepsFormSubmitButton().enable();b",532951,48,"b",533000,34,"rststeps",532839,57,"rststeps",532897,46,",a)}}else{b",532951,48,"b",533000,34,527768,120,"userSuccessfullSavedHandler:function(b,a){this.getApplication().fireEvent(\"userchange\");",527920,174,"type.Select\",{extend:\"Ext.field.Select\",config:{store:\"SelectAnswers\",usePicker:true,autoSelect:false",469944,35,529872,268,",type:\"",498624,41,"arguments);this.getStore().filter(\"type\",this.getType()",528366,38,528780,147,",\"Kort.view.bugmap.fix.type.Selec",528925,313,"textpic",526000,39,"koin",529295,32,"koins/koin_no_value",529346,47,"\",",528987,34,"koins.earn\"),' <span class=\"important\">{fix_koin_count}</span> ',",528987,34,"koins.name\"),\"</p>\",\"</div>\",\"</div>\",'<div class=\"textpic",526000,190,529439,63,"cls:\"fixFormP",529496,55,"cls:\"fixSubmitB",529544,187,529733,35,"c=Ext.merge(c,{type:b.get(\"type\")}",525063,33,"fix.type",530166,220,539315,162,",cls:\"notificationMessageBox\"}});Ext.define(\"Kort.view.RewardMessageBox\",{extend:",532767,34,",xtype:\"rewardmessagebox\",config:{rewardT",537783,34,"messagebox-content\">','<div class=\"textpic",526000,39,"koin",529295,32,"koins/koin_no_value",529346,47,"\"+Ext.i18n.Bundle.message(\"reward.alert.koins.new.1\")+' <span class=\"important\">{koin_count_new}</span> '+Ext.i18n.Bundle.message(\"reward.alert.koins.new.2\")+\"</p>\",\"<p>\"+Ext.i18n.Bundle.message(\"reward.alert.koins.total.1\")+' <span class=\"important\">{koin_count_total}</span> '+Ext.i18n.Bundle.message(\"reward.alert.koins.total.2\")+\"</p>\",\"</div>\",\"</div>\",'<tpl if=\"this.hasBadges(badges)\">','<div class=\"text\">','<div class=\"content\">',\"<h1> \"+Ext.i18n.Bundle.message(\"reward.alert.badges.title\")+\" </h1",538792,112,".png\" /",538971,33,"p>\",\"</div>\",\"</div>\",\"</tpl>\",\"</div>\",{hasBadges:function(a){return a.length>0}}",539824,33,"OsmMap",533901,39,"map:null},on",531470,40,"DetailComponent",531521,549,"Osm",532073,47,"Osm",532123,70,"Osm",532073,47,"Osm",532246,228,527055,33,"x\",{extend:\"Kort.controller.OsmMap\",config:{views:[\"bugmap.NavigationView\",",530947,34,"Form\",\"LeafletMap\",\"RewardMessageBox",531035,54,"detailComponent",531100,68,"[cls=fixSubmitButton]",531168,66,"kortleafletmap[cls=fixMap]",531240,121,"Maprender\"}",532472,43,"e=this,b=this.getDetailComponent",532543,35,"d=Kort.user.get(\"id\"),a,f;if(c&&c!==\"\"){e.showSendMask();",532593,64,"schema:b.getRecord().get(\"schema\"),osm_id:b.getRecord().get(\"osm_id\"),user_id:d",532656,38,"h,g){e.hideSendMask();e.fixSuccessfulSubmittedHandler(g.getResponse().responseText)},failure:function(){e.hideSendMask();var g",532951,48,"g",533000,42,532846,104,"f",532951,48,"f",533000,268,"a){var d=JSON.parse(a),b=Ext.create(\"Kort.model.Reward\",d),c=this.getBugmapNavigationView();this.getApplication().fireEvent(\"fixsend\");this.showRewardMessageBox(b);c.pop();c.fireEvent(\"back\",c)},showSen",525737,58,525596,51,"fix.sen",525657,77,"Sen",525737,66,"showRewardMessageBox",525396,41,"RewardMessageBox\",{record:b});a",533000,32,"reward.alert.title\"),a.getRewardTpl().apply(b.data),Ext.emptyFn",526190,35,"geolocationerror",526235,42,"geolocationerror",534260,39,"id:\"geolocationerror",534320,197,"sadsmiley\">:(",526665,59,"geolocationerror.introduction.1\")+Kort.util.Config.getKortTitle()+Ext.i18n.Bundle.message(\"geolocationerror.introduction.2\")+\"</div></div>\"},{xtype:\"button\",id:\"geolocationerrorReload",529581,38,"geolocationerror.button.reload\"),ui:\"confirm\"}]",541119,32,"GeolocationError",535021,81,"geolocationerror.Panel\"],refs:{geolocationerrorPanel:\"#geolocationerrorPanel\",geolocationerrorReloadButton:\"#geolocationerrorReloadButton\"},control:{geolocationerrorReloadButton:{tap:\"onGeolocationerrorReloadButtonTap\"}}},onGeolocationerrorReload",540619,47,"Ext.i18n.Bundle.message(\"geolocationerror.loadmask.message\"));window.location.reload()},showLoadMask:function(a){this.getGeolocationerrorPanel",525583,39,"a",540905,92,"this.getGeolocationerrorPanel().setMasked(false)}});Ext.define(\"Kort.plugin.PullRefresh\",{extend:\"Ext.plugin.PullRefresh\",alias:\"plugin.kortpullrefresh\",config:{pullRefreshText:Ext.i18n.Bundle.message(\"pullrefresh.pullrefresh\")",536624,38,"pullrefresh.loading\"),releaseRefreshText:Ext.i18n.Bundle.message(\"pullrefresh.releaserefresh\"),lastUpdatedText:Ext.i18n.Bundle.message(\"pullrefresh.lastupdated\"),dateFormat:\"d.m.Y H:i:s\",refreshFn",156805,33,"List(),a=e.getStore();if(a){a.load(function(g,f,h){a.updateDistances(Kort.geolocation);b.call(c);Ext.defer(function(){e.refresh()},500)})}else{b.call(c)}},pullTpl:['<div class=\"x-list-pullrefresh\">','<div class=\"x-list-pullrefresh-arrow\"></div>','<div class=\"x-loading-spinner\">','<span class=\"x-loading-top\"></span>','<span class=\"x-loading-right\"></span>','<span class=\"x-loading-bottom\"></span>','<span class=\"x-loading-left\"></span>',\"</div>\",'<div class=\"x-list-pullrefresh-wrap\">','<h3 class=\"x-list-pullrefresh-message\">{message}</h3>','<div class=\"x-list-pullrefresh-updated\">{lastUpdatedText}&nbsp;{lastUpdatedFormatted}</div>',\"</div>\",\"</div>\"].join(\"\")},initScrollable:function(){var d=this,g=d.getList(),b=g.getStore(),f=d.getPullTpl(),c=d.element,e=g.getScrollable(),a;if(!e){return}a=e.getScroller();d.lastUpdated=new Date();d.lastUpdatedFormatted=Ext.util.Format.date(d.lastUpdated,d.getDateFormat());g.container.insert(0,d);if(b){if(b.isAutoLoading()){g.setLoadingText(null)}else{b.on({load:{single:true,fn:function(){g.setLoadingText(null)}}})}}f.overwrite(c,{message:d.getPullRefreshText(),lastUpdatedText:d.getLastUpdatedText(),lastUpdatedFormatted:d.lastUpdatedFormatted},true);d.loadingElement=c.getFirstChild();d.messageEl=c.down(\".x-list-pullrefresh-message\");d.updatedEl=c.down(\".x-list-pullrefresh-updated\");d.maxScroller=a.getMaxPosition();a.on({maxpositionchange:d.setMaxScroller,scroll:d.onScrollChange,scope:d})},loadStore:function(){var b=this,c=b.getList(),a=c.getScrollable().getScroller();b.setViewState(\"loading\");b.isReleased=false;Ext.defer(function(){a.on({scrollend:function(){if(b.getRefreshFn()){b.getRefreshFn().call(b,b)}else{b.fetchLatest()}b.resetRefreshState()},delay:100,single:true,scope:b});a.minPosition.y=0;a.scrollTo(null,0,true)},1000,b)},resetRefreshState:function(){var a=this;a.isRefreshing=false;a.lastUpdated=new Date();a.lastUpdatedFormatted=Ext.util.Format.date(a.lastUpdated,a.getDateFormat());a.setViewState(\"pull\");a.updatedEl.setHtml(this.getLastUpdatedText()+\"&nbsp;\"+a.lastUpdatedFormatted",533468,37,"PullRefreshPlugin\",{extend:\"Kort.plugin.PullRefresh\",alias:\"plugin.highscorepullrefresh\",requires:[\"Kort.plugin.PullRefresh\"],config:{refreshFn:function(){var b=this,c=b.getList(),a=c.getStore();if(a){a.load(function(e,d,f){c.refresh()})}}",533469,36,536516,39,"highscorelist\",requires:[\"Kort.view.highscore.PullRefreshPlugin\"],config:{layout:\"fit\",store:\"Highscore\"",536624,38,"highscore.loadmask.message\"),emptyText:'<div class=\"emptytext\">'+",533782,35,"emptytext\")+\"</div>\",disableSelection:true,itemT",537783,34,"highscore-item<tpl if=\"ranking == 1\"> firstPlace</tpl><tpl if=\"ranking == 2\"> secondPlace</tpl><tpl if=\"ranking == 3\"> thirdPlace</tpl><tpl if=\"you\"> you</tpl>\"><div class=\"ranking\">#{ranking}</div><div class=\"information\"><div class=\"username\"><span class=\"value\">{username}<tpl if=\"you\"></span> <span class=\"you\">'+",533782,35,"you\")+'</span></tpl></div><div class=\"fixCount\"><span class=\"title\">'+",533782,35,"fixcount\")+'</span> <span class=\"value\">{fix_count}</span></div><div class=\"voteCount\"><span class=\"title\">'+",533782,35,"votecount\")+'</span> <span class=\"value\">{vote_count}</span></div></div><div class=\"koins\"><div class=\"title\">'+",533782,35,"koins\")+'</div> <div class=\"value\">{koin_count}</div></div></div>'),plugins:[{xclass:\"Kort.view.highscore.PullRefreshPlugin\"}]",533469,129,",\"Kort.view.highscore.List",533597,227,",items:[{xtype:\"button\",cls:\"highscoreRefresh",521987,57,"{xtype:\"highscorelist\"}]",541119,32,533892,76,",\"highscore.List",533967,78,",highscoreList:\".highscorelist\",highscoreRefreshButton:\"#highscoreContainer .button[cls=highscoreRefreshButton]\"},control:{highscoreRefreshButton:{tap:\"onHighscoreRefreshButtonTap\"}}},init",475168,36,"arguments);a.getApplication().on({votesend:{fn:a.refreshView,scope:a},fixsend:{fn:a.refreshView,scope:a},userchange:{fn:a.refreshView,scope:a}})},onHighscoreRefresh",523518,33,"View()},refreshView:function(){var b=this,a=Ext.getStore(\"Highscore\");if(b.getHighscoreList()){b.getHighscoreList().mask();a.load(function(d,c,e){b.getHighscoreList().refresh();b.getHighscoreList().unmask()})}",526191,34,534208,91,534311,195,"ul class=\"kort-description\"><li",534530,34,"kort.description.1\")+\"</li><li>\"",534532,32,"kort.description.2\")+\"</li><li>\"",534532,32,"kort.description.3\")+'</li></ul",526670,54,"login.introduction.1\")+Kort.util.Config.getKortTitle()",534532,44,".2",534576,248,"]}]",541119,32,535016,258,535582,99,"Kort.util.Config.getOAuth",535695,75,"Kort.util.Config.getOAuth",535784,606,"encodeURIComponent(f.getAppUrl()+\"/\"+a.redirect_path)+\"&\";b+=\"state=\"+f.getAppEnv()",536419,97,"PullRefreshPlugin\",{extend:\"Kort.plugin.PullRefresh\",alias:\"plugin.validationpullrefresh\",requires:[\"Kort.plugin.PullRefresh\"],config:{refreshFn",156805,33,"List(),a=e.getStore();if(a){a.load(function(g,f,h){a.updateDistances(Kort.geolocation);e.refresh()})}}",536800,37,536516,55,"requires:[\"Kort.view.validation.PullRefreshPlugin\"]",536570,132,"'<div class=\"emptytext\">'+",536702,47,"+\"</div>\",disableSelection:true,scrollToTopOnRefresh:false,itemTpl:'<div class=\"validation-item\"><div class=\"image\">",529276,78,"</div><div class=\"content\"><div class=\"title\">{title}</div><div class=\"ratings\"><span class=\"upratings\"><tpl if=\"upratings &gt; 0\">+</tpl>{upratings}<img class=\"thumb\" src=\"./resources/images/validation/thumbs-up.png\" /></span><span class=\"downratings\"><tpl if=\"downratings &gt; 0\">-</tpl>{downratings}<img class=\"thumb\" src=\"./resources/images/validation/thumbs-down.png\" /></span></div></div><tpl if=\"formatted_distance\"><div class=\"distance\"><div class=\"title\">'+",536702,36,"distance\")+'</div> <div class=\"value\">{formatted_distance}</div></div></tpl></div>',plugins:[{xclass:\"Kort.view.validation.PullRefreshPlugin\"}]",536800,37,521641,60,"validationnavigationview\",requires:[\"Ext.Button\",\"Kort.view.validation.List",533597,46,536976,44,"NavigationView\",iconCls:\"check_black2",521871,101,"cls:\"validationRefresh",521987,96,"validation.title\"),",537172,62,"entComponent",270761,40,"profilecontentcomponent\",config:{cls:\"profileContentComponent",537780,116,"_url}\" />',\"</div>\",'<dl class=\"kort-definitionlist text\">'",538192,49,537983,89,"oauthprovider\")+\"</dt>\",\"<dd>{oauth_provider",538016,56,"fixes\")+\"</dt>\",\"<dd>{fix_count",538016,56,"votes\")+\"</dt>\",\"<dd>{vote_c",538280,202,"div class=\"koins-image",526617,33,"ins/koin_no_value.png\" /></div>','<div class=\"koins-info\">'",538587,34,"_count}</span>','<span class=\"koins-title",538512,51,"title\")+\"</span>\",\"</div>\"",538635,160,"\"</div>\")",537196,34,"BadgesDataView\",{extend:\"Ext.DataView\",alias:\"widget.profilebadgesdataview\",config:{cls:\"profileBadgesDataView\",store:\"UserBadges\",inline:true,itemTpl:'<div class=\"badge\">",538862,36,"<tpl if=\"won\">{name}<tpl else>locked</tpl>.png\" /><p class=\"badge-title\">{title}</p></div>',scrollable:false,emptyText:'<div class=\"emptytext",538512,37,"badges.emptytext\")+\"</div>\",loadingText:false",537196,138,",\"Kort.view.profile.ContentComponent\",\"Kort.view.profile.BadgesDataView",533597,46,537379,236,"xtype:\"button\",cls:\"profileRefresh",521987,47,"left",547472,34,"profile.button.logout\"),cls:\"profileLogoutButton\",ui:\"decline\",align:\"right\"}]}]},initialize:function(){var b,a;this.callParent(arguments);b={xtype:\"profilecontentcomponent\"};a={xtype:\"profilebadgesdataview\"};this.add([b,a]",539022,199,"navigationview",539230,58,",{xtype:\"about",539277,33,539498,92,",\"LeafletMap",522559,38,"aboutContainer:\"#aboutContainer",539625,46,534004,41,539991,38,"validationNavigationView:\"#validation",539656,91,",routes:{about:\"showAbout\",bugmap:\"showBugmap\",highscore:\"showHighscore\",profile:\"showProfile\",validation:\"showValidation\"",539746,80,",showAbout:function(){this.showView(this.getAboutContainer())},showBugmap:function(){this.showView",523074,34,"showHighscore:function(){this.showView(this.getHighscoreContainer())},showProfile:function(){this.showView(this.getProfileContainer())",541364,33,"showView(this.getValidationNavigationView())},showView:function(a){if(this.getMainTabPanel()",540303,39,"a)}",537196,34,"BadgesCarousel\",{extend:\"Ext.Carousel\",alias:\"widget.badgescarousel\",config:{flex:1,cls:\"profileBadgesCarousel\",selectedBadgeIndex:0,itemT",537783,34,"carouselitem-content\"><h1 class=\"badge-title\">{title}</h1><img class=\"badg",529294,33,"badges/<tpl if=\"won\">{name}<tpl else>locked</tpl>.png\" /><p class=\"badge-description\">{description}</p></div>')}",251680,39,"arguments);var b=this,a=Ext.getStore(\"UserBadges\");a.each(function(c,e,f){var d={xtype:\"component\",html:b.getItemTpl().apply(c.data)};if(c.get(\"won\")){d.style={\"background-color\":c.get(\"color\")}}b.add(d)});b.setActiveItem(b.getSelectedBadgeIndex())",537196,34,"Badges",537230,49,"badges",536896,35,",\"Ext.Button\",\"Kort.view.profile.BadgesCarousel\"],config:{",530527,54,"layout:\"vbox",526461,43,"up",526508,45,"down\"},items:[{xtype:\"titlebar",533774,33,"profile.badges.title\"),items",547035,33,"profile.badges.button.close\"),cls:\"badgesContainerBackButton\",ui:\"back\",align:\"left\"}]}],selectedBadgeIndex",235744,35,537710,32,"badgescarousel\",selectedBadgeIndex:this.getSelectedBadgeIndex()};this.add(a",539824,131,",\"profile.Badges",539945,100,"mponent:\".profilecontentcomponent\",profileBadgesDataView:\".profilebadgesdataview\",profileRefreshButton:\"#profileContainer .button[cls=profileRefreshButton]\",profileLogoutButton:\"#profileContainer .button[cls=profileLogoutButton]\",badgesContainerBackButton:\".badgescontainer .button[cls=badgesContainerBackButton]\"},control:{profileContentComponent",540142,32,"mponentInitialize\"},profileBadgesDataView:{itemtap:\"onProfileBadgesDataViewItemTap\"},profileRefreshButton:{tap:\"onProfileRefreshButtonTap\"},profileLogoutButton:{tap:\"onProfileLogoutButtonTap\"},badgesContainerBackButton:{tap:\"onBadgesContainerBackButtonTap\"}},badgesContainer:null},init",475168,36,"arguments);a.getApplication().on({votesend:{fn:a.refreshProfile,scope:a},fixsend:{fn:a.refreshProfile,scope:a}})},onProfileContentComponentInitialize:function(){if(!Kort.user",540463,35,"mponentInitialize,500,this)}else{this.getProfileContentComponent().setRecord(Kort.user)}},onProfileBadgesDataViewItemTap:function(c,b,f,a,d){var g=Ext.create(\"Kort.view.profile.BadgesContainer\",{selectedBadgeIndex:b});this.setBadgesContainer(g);Ext.Viewport.add(g);g.show()},onBadgesContainerBackButtonTap:function(){this.getBadgesContainer().hide()},onProfile",540613,37,",b=Ext.getStore(\"UserLocal\");a.showLoadMask(",538384,33,"logout.loadmask.message\")",540666,51,"\"+Kort.user.get(\"id\")+\"/logout\",success:function(c){b.removeAll();window.location.reload()}})},onProfileRefresh",523518,33,"Profile()},refreshProfile:function(){var a=this;if(this.getProfileContainer()){a.showLoadMask(",538384,33,"refresh.loadmask.message\"))}Kort.model.User.reload(Kort.user,\"secret\",a.hideLoadMask,a)},showLoadMask:function(a){this.getProfileRefreshButton().disable();this.getProfileContainer",525583,39,"a",540905,92,"this.getProfileRefreshButton().enable();this.getProfileContainer().setMasked(false)",536800,37,"vot",533503,51,"votecontainer\",requires:[\"Kort.view",521740,35,"cls:\"vot",537413,65,"layout:\"vbox\"},initialize:function(){var f=this,e=Ext.getStore(\"SelectAnswers\"),b,d,a,c=f.getRecord().get(\"fixmessage\"",237572,32,"this.getRecord().get(\"view_type\")===\"select\"){e.filter(\"type\",this.getRecord().get(\"type\"));e.each(function(i,g,h){if(i.get(\"value\")===f.getRecord().get(\"fixmessage\")){c=i.get(\"title\")}})}b={xtype:\"component\",cls:\"voteCont",529147,41,"XTemplate('<div class=\"vote-content\">','<div class=\"question\">',\"{question}\",\"</div>\",'<div class=\"fixmessage\">',c,\"</div>\",\"</div>\")};d={xtype:\"kortleafletmap\",cls:\"voteMap\",flex:1,mapOptions:{dragging:false}};a={xtype:\"button\",iconMask:true,ui:\"confirm\",cls:\"voteAnswer",529581,38,"vote.container.button.answer\")};this.add([b,d,a]",539824,33,541151,68,"NavigationView\",\"validation.List\",\"validation.vot",539943,49,"validationNavigationView:\"#validationNavigationView\",validationList:\".validationlist\",validationRefreshButton:\"#validationNavigationView .button[cls=validationRefreshButton]\"},control:{validationList:{itemtap:\"onValidationListItemTap\"},validationRefreshButton:{tap:\"onValidationRefreshButtonTap\"}},itemTapDisabled:false},init",475168,36,"arguments);a.getApplication().on({votesend:{fn:a.refreshView,scope:a},fixsend:{fn:a.refreshView,scope:a}})},onValidationRefresh",523518,33,"View()},refreshView:function(){var a=this,b=Ext.getStore(\"Validations\");if(a.getValidationList()){a.getValidationList().mask();b.load(function(d,c,e){b.updateDistances(Kort.geolocation);a.getValidationList().refresh();a.getValidationList().unmask()})}},onValidationListItemTap:function(f,c,h,b,g){var d=this,a;if(!d.getItemTapDisabled()){d.setItemTapDisabled(true);a=Ext.create(\"Kort.view.validation.vote.Container",525456,35,"d.getValidationNavigationView().push(a)}Ext.defer(function(){d.setItemTapDisabled(false)},200)",536800,37,"vote.AnswerActionSheet\",{extend:\"Ext.ActionSheet\",xtype:\"voteansweractionsheet\",config:{",530527,54,"cls:\"voteAnswerActionSheet\",defaults:{iconMask:true},items:[{xtype:\"component\",cls:\"answerContent\",html:Ext.i18n.Bundle.message(\"vote.answeractionsheet.question\")},{ui:\"confirm\",cls:\"voteAnswerConfirmButton\",iconCls:\"add_black",534685,32,"vote.answeractionsheet.button.accept\")},{ui:\"decline\",cls:\"voteAnswerDeclineButton\",iconCls:\"minus_black1",534685,32,"vote.answeractionsheet.button.decline\")},{cls:\"voteAnswerCancelButton\",iconCls:\"arrow_left",534685,32,"vote.answeractionsheet.button.cancel\")}]",541119,33,"ote\",{extend:\"Kort.controller.OsmMap\",config:{views:[\"validation.NavigationView\",\"validation.vote.Container\",\"validation.vote.AnswerActionSheet\",\"LeafletMap\"],refs:{validationNavigationView:\"#validationNavigationView\",detailComponent:\".votecontainer\",voteMap:\".votecontainer .kortleafletmap[cls=voteMap]\",voteAnswerButton:\".votecontainer .button[cls=voteAnswerButton]\",voteAnswerConfirmButton:\".voteansweractionsheet .button[cls=voteAnswerConfirmButton]\",voteAnswerDeclineButton:\".voteansweractionsheet .button[cls=voteAnswerDeclineButton]\",voteAnswerCancelButton:\".voteansweractionsheet .button[cls=voteAnswerCancelButton]\"},control:{voteMap:{maprender:\"onMaprender\"},voteAnswerButton:{tap:\"onVoteAnswerButtonTap\"},voteAnswerConfirmButton:{tap:\"onVoteAnswerConfirmButtonTap\"},voteAnswerDeclineButton:{tap:\"onVoteAnswerDeclineButtonTap\"},voteAnswerCancelButton:{tap:\"onVoteAnswerCancelButtonTap\"}},answerActionSheet:null},onVoteAnswerButtonTap",533368,40,"validation.vote.AnswerActionSheet\");this.setAnswerActionSheet(a);Ext.Viewport.add(a);a.show()},onVoteAnswerConfirmButtonTap:function(){if(this.getAnswerActionSheet()){this.getAnswerActionSheet().hide()}this.sendVote(true)},onVoteAnswerDeclineButtonTap:function(){if(this.getAnswerActionSheet()){this.getAnswerActionSheet().hide()}this.sendVote(false)},onVoteAnswerCancelButtonTap:function(){if(this.getAnswerActionSheet()){this.getAnswerActionSheet().hide()}this.getValidationNavigationView().pop()},sendVote:function(f){var e=this,a=e.getDetailComponent(),c=Kort.user.get(\"id\"),b,d;d=f.toString();e.showSendMask();b=Ext.create(\"Kort.model.Vote\",{fix_id:a.getRecord().get(\"id\"),user_id:c,valid:d});b.save({success:function(h,g){e.hideSendMask();e.voteSuccessfulSubmittedHandler(g.getResponse().responseText)},failure:function(){e.hideSendMask();var g",532951,48,"g",533000,32,"vote",532839,55,"vote",532897,48,",vote",533232,36,"a){var c=Ext.decode(a),b=Ext.create(\"Kort.model.Reward\",c);this.getApplication().fireEvent(\"votesend\");this.showRewardMessageBox(b);this.getValidationNavigationView().pop()},showSendMask:function(){this.getValidation",525569,78,"vote.sen",525657,77,"SendMask:function(){this.getValidation",525768,35,"showRewardMessageBox",525396,41,"RewardMessageBox\",{record:b});a",533000,32,"reward.alert.title\"),a.getRewardTpl().apply(b.data),Ext.emptyFn)}});Ext.define(\"Kort.model.Badge",517581,47,541536,43,"name",542281,53,541725,35,"color\",type:\"string\"},{name:\"won\",type:\"boolean\"},{name:\"sorting\",type:\"int\"}]",541459,433,",{name:\"fix_koin_count\",type:\"int",541890,123,"user_id\",type:\"int",542003,42,"schema",541613,51,542045,77,"\"}}});Ext.define(\"Kort.model.HighscoreEntr",517580,48,"user_id\",fields:[{name:\"user_id\",type:\"auto\"},{name:\"you\",type:\"boolean",542498,42,"fix_count\",type:\"int\"},{name:\"vote_count\",type:\"int\"},{name:\"koin_count\",type:\"int\"},{name:\"ranking\",type:\"int\"}]}});Ext.define(\"Kort.model.Reward",517581,47,541536,43,"koin_count_new\",type:\"string\"},{name:\"koin_count_total\",type:\"string",542746,97,"SelectAnswer",517581,47,541536,43,"value",542281,53,"typ",542309,231,"oauth_user_id\",type:\"string\"},{name:\"oauth_provider\",type:\"string\"},{name:\"pic_u",542573,32,"_i",542606,58,"_count\",type:\"int\"},{name:\"vote_count\",type:\"int\"},{name:\"koin_count\",type:\"int\"},{name:\"secret",542052,63,"user\",reader:{type:\"json\",rootProperty:\"return\"}}},statics:{reload:function(a,b,d,c){this.load(a.get(b),{success:function(e,f){var g=Ext.getStore(\"UserBadges\"),h;for(h in e.getData()){if(a.hasOwnProperty(h)){a.set(h,e.getData()[h])}}g.getProxy().setUrl(\"./server/webservices/user/\"+a.get(\"id\")+\"/badges\");g.load();if(typeof d===\"function\"){c=c||this;d.call(c)}}})}}});Ext.define(\"Kort.model.UserLocal\",{extend:\"Ext.data.Model\",requires:[\"Ext.data.identifier.Uuid\"],config:{identifier:\"uuid\",fields:[{name:\"secret",541876,44,542843,188,"typ",541800,58,"ques",543038,132,"_v",543171,134,"_d",543306,45,"model.Vote",517581,47,541536,43,"fix_id\",type:\"int\"},{name:\"user_id\",type:\"string\"},{name:\"valid",542052,63,"validation/vote\"}",543330,102,"rest",543436,111,",rootProperty:\"return\"}}}});Ext.define(\"Kort.store.Highscore",543965,53,"HighscoreEntry\"",543853,46,"highscore/\",sorters:\"place\",reader:{type:\"json\",rootProperty:\"return\"}}}});Ext.define(\"Kort.store.SelectAnswer",543360,54,"SelectAnswer\"",543853,46,"answer",543709,39,",rootProperty:\"retur",543746,35,"Badg",543584,55,"Badge\",proxy:{type:\"rest\",url:\"",543709,39,",rootProperty:\"retur",543746,35,"Local",543965,53,"UserLocal\",autoSync:true,proxy:{type:\"localstorage\",id:\"kort-user\"",543926,154,"_v",544081,62,"' <span class=\"text\">'+",536702,36,"list.header\")+\"</span>\"",544196,138,"rest",544338,63,",rootProperty:\"retur",544399,34,"console.log(\"updatedistances\");",544433,134,"_d",544568,873,"About\",\"Bugmap\",\"Firststeps\",\"Fix\",\"GeolocationError\",\"Highscore\",\"Login\",\"Main\",\"OsmMap\",\"Profile\",\"Validation\",\"Vote\"],models:[\"Badge\",\"Bug\",\"Fix\",\"HighscoreEntry\",\"Reward\",\"SelectAnswer\",\"User\",\"UserLocal\",\"Validation\",\"Vote\"],stores:[\"Bugs\",\"Highscore\",\"SelectAnswers\",\"UserBadges\",\"UserLocal",545605,207,"true},launch:function(){Ext.fly(\"appStartscreen\").destroy();var a=Ext.getStore(\"SelectAnswer",545919,52,"a.load",545968,54,"b.hide();this.loadGeolocation(b)},loadGeolocation:function(b){var a=this",546030,95,"c){if(c){a.loadUserClientSecret(c,b)}else{a.showGeolocationErrorOverlay()}})},loadUserClientSecret:function(c,b){var a=this,d=Ext.getStore(\"UserLocal\");d.load(function(f,e,g){console.log(\"userLocalStore loaded\");if(f.length===0){console.log(\"no client secret record found in localstorage\");a.loadUser(c,b)}else{console.log(\"client secret found in localstorage: \"+f[0].get(\"secret\"));a.loadUser(c,b,f[0].get(\"secret\"))}},a)},loadUser:function(d,c,a){var b=this,e=Ext.getStore(\"UserLocal\");if(!a){a=0}Kort.model.User.load(a,{success:function(f,g){Kort.user=f;console.log(\"user loaded\");console.log(Kort.user);if(!Kort.user.get(\"logged_in\")){if(a&&a!==0){console.log(\"remove wrong client secret form local store\");e.removeAll()}b.showLoginOverlay()}else{if(!a){console.log(\"clientSecret not passed -> write client secret to localstore\");b.writeUserClientSecret(Kort.user.get(\"secret\"))}b.showMainPanel(d,c)}}})},writeUserClientSecret:function(a){var c=Ext.getStore(\"UserLocal\"),b;if(a){console.log(\"writing userClientSecret to localstore: \"+a);b=Ext.create(\"Kort.model.UserLocal\",{secret:a});console.log(b);c.add(b)}else{console.log(\"Error: no client secret passed\")}},showLoginOverlay:function(){var a;",546313,54,"a",546377,62,"a);a.show()},showGeolocationErrorOverlay:function(){var a;console.log(\"geolocation error\");a=Ext.create(\"Kort.view.overlay.geolocationerror.",533433,37,",showMainPanel:function(c,b){var d=Ext.getStore(\"Validations\"),a=Ext.getStore(\"UserBadges\");b.show();d.getProxy().setUrl(\"./server/webservices/validation/position/\"+c.getLatitude()+\",\"+c.getLongitude());d.load(function(f,e,g){console.log(\"validationStores load\");d.updateDistances(Kort.geolocation)},this);c.setAutoUpdate(true);a.getProxy().setUrl(\"./server/webservices/user/\"+Kort.user.get(\"id\")+\"/badges\");a.load();Ext.getStore(\"Highscore\").load();if(!Kort.user.get(\"username\")){this.showFirstStepsPanel()}},showFirstSteps",533363,45,"overlay.firststeps.Panel\");",546479,59,"Ext.Viewport.add(a);a.show(",546620,1131,"defaultAllowedConfig.zIndex=1600",547742,161]